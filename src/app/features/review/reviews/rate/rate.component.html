<main>
    <header class="pattern-header">
        <div class="header-content">
            <h2></h2>
        </div>
    </header>

    <section class="content-container">
        
        <div class="avatar-container">
            <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=Jorge" alt="Prestador">
            <h3>Jorge Lucio</h3>
            <p>Serviço de Passeio concluído</p>
        </div>

        <h2 class="title">Dê uma nota para o serviço!</h2>
        <p class="subtitle">Sua avaliação ajuda a construir a confiança na comunidade.</p>

        <div class="stars-container">
            @for (star of stars; track $index) {
                <button class="star-btn" (click)="setRating(star)">
                    <svg 
                        [class.filled]="star <= rating"
                        width="40" height="40" viewBox="0 0 24 24" 
                        fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                </button>
            }
        </div>

        <div class="comment-section">
            <textarea 
                [(ngModel)]="comment" 
                placeholder="Escreva um comentário... (Opcional)" 
                rows="4"></textarea>
        </div>

        <div class="actions-footer">
            <button class="btn-cancel" (click)="cancel()" [disabled]="isLoading">
                Pular
            </button>
            
            <button class="btn-confirm" (click)="submit()" [disabled]="isLoading || rating === 0">
                {{ isLoading ? 'Enviando...' : 'Enviar Avaliação' }}
            </button>
        </div>

    </section>
</main>